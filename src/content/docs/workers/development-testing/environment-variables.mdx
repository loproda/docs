---
pcx_content_type: navigation
title: Environment variables and secrets
sidebar:
  order: 1
head: []
description: Configuring environment variables and secrets for local development
---

import { PackageManagers, Render, Steps } from "~/components";

<Render file="secrets-in-dev" product="workers" />

### Basic setup

Here are steps to set up environment variables for local development using either `.dev.vars` or `.env` files.

<Steps>

1.  Create a `.dev.vars` / `.env` file in your project root.

2.  Add key-value pairs:

    ```ini title=".dev.vars/.env"
    API_HOST="localhost:3000"
    DEBUG="true"
    SECRET_TOKEN="my-local-secret-token"
    ```

3.  Run your `dev` command

        **Wrangler**
        <PackageManagers type="exec" pkg="wrangler" args="dev" />


        **Vite plugin**
         <PackageManagers type="exec" pkg="vite" args="dev" />

</Steps>

## Multiple local environments

To simulate different local environments, you can provide environment-specific files.
For example, you might have a `staging` environment that requires different settings than your development environment.

<Steps>

1.  Create a file named `.dev.vars.<environment-name>`/`.env.<environment-name>`. For example, we can use `.dev.vars.staging`/`.env.staging`.

2.  Add key-value pairs:

    ```ini title=".dev.vars.staging/.env.staging"
    API_HOST="staging.localhost:3000"
    DEBUG="false"
    SECRET_TOKEN="staging-token"
    ```

3.  Specify the environment when running the `dev` command:

        **Wrangler**

        <PackageManagers type="exec" pkg="wrangler" args="dev --env staging" />

        **Vite plugin**

        <PackageManagers type="exec" pkg="vite" args="dev" prefix="CLOUDFLARE_ENV=staging" />

        - If using `.dev.vars.staging`, only the values from that file will be applied instead of `.dev.vars`.
        - If using `.env.staging`, the values will be merged with `.env` files, with the most specific file taking precedence.

</Steps>

## Learn more

- To learn how to configure multiple environments in Wrangler configuration, [read the documentation](/workers/wrangler/environments/#_top).
- To learn how to use Wrangler environments and Vite environments together, [read the Vite plugin documentation](/workers/vite-plugin/reference/cloudflare-environments/)
