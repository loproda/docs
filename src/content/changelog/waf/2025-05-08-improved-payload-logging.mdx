---
title: Improved Payload Logging for WAF Managed Rules
description: We have upgraded WAF Payload Logging to enhance rule diagnostics and usability.
products:
  - waf
date: 2025-05-08
---

We have upgraded WAF Payload Logging to enhance rule diagnostics and usability:

- **Targeted logging**: Logs now capture only the specific portions of requests that triggered WAF rules, rather than entire request segments.
- **Visual highlighting**: Matched content is visually highlighted in the UI for faster identification.
- **Enhanced context**: Logs now include surrounding context to make diagnostics more effective.

![Log entry showing payload logging details](~/assets/images/changelog/waf/2025-05-payload-logging-update.png)

Payload Logging is available to all Enterprise customers. If you have not used Payload Logging before, check how you can [get started](/waf/managed-rules/payload-logging/).

**Note:** The structure of the `encrypted_matched_data` field in Logpush has changed from `Map<Field, Value>` to `Map<Field, {Before: bytes, Content: Value, After: bytes}>`. If you rely on this field in your Logpush jobs, you should review and update your processing logic accordingly.
