---
{}
---

import { Render, Details, APIRequest } from "~/components";

1. [Create an API token](/fundamentals/api/get-started/create-token/) with the following permissions:

   | Type    | Item                 | Permission |
   | ------- | -------------------- | ---------- |
   | Account | Access: SSH Auditing | Edit       |

2. If you have not yet generated a Cloudflare SSH CA, make a `POST` request to the Cloudflare API:

<APIRequest
  path="/accounts/{account_id}/access/gateway_ca"
  method="POST"
/>

3. If you have already created a Cloudflare SSH CA or receive the error message `access.api.error.gateway_ca_already_exists`, make a `GET` request instead:

<APIRequest
  path="/accounts/{account_id}/access/gateway_ca"
  method="GET"
/>

4. Copy the `public_key` value returned in the response.
